<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--Bootsrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <!--Bootsrap scripts-->
    <script defer src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script defer src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <title>Bootstrap</title>
</head>
<body>

  <nav class="navbar navbar-dark bg-dark">
    <span class="navbar-brand mb-0 h1">CRUD</span>
  </nav>

  <section id="Create" style="display: flex; flex-direction: column; align-items: center;">
    <h2>Add new location</h2>
    <input style="width: 35%;"type="text" id="abvcreate" class="form-control" placeholder="Abv">
    <input style="width: 35%;"type="text" id="addresscreate" class="form-control" placeholder="Address">
    <input style="width: 35%;"type="text" id="categorycreate" class="form-control" placeholder="Category">
    <input style="width: 35%;"type="text" id="citycreate" class="form-control" placeholder="City">
    <input style="width: 35%;"type="text" id="coordinatescreate0" class="form-control" placeholder="Latitude coordinates">
    <input style="width: 35%;"type="text" id="coordinatescreate1" class="form-control" placeholder="Longitude coordinates">
    <input style="width: 35%;"type="text" id="countrycreate" class="form-control" placeholder="Country">
    <input style="width: 35%;"type="text" id="descriptioncreate" class="form-control" placeholder="Description">
    <input style="width: 35%;"type="text" id="ibucreate" class="form-control" placeholder="Ibu">
    <input style="width: 35%;"type="text" id="namecreate" class="form-control" placeholder="Name">
    <input style="width: 35%;"type="text" id="statecreate" class="form-control" placeholder="State">
    <input style="width: 35%;"type="text" id="websitecreate" class="form-control" placeholder="Website">
    <button  onclick="CreateFunc()" type="button" class="btn btn-primary">Create</button>
    <h3 id="createinfo"></h3>
  </section>

  <section id="Read" style="padding-top: 4em; display: flex; flex-direction: column; align-items: center;">
    <h2>Read from database</h2>
    <div style="display:flex">
      <input style="width: 100%;"type="text" id="readinput" class="form-control" placeholder="Insert Id">
      <button onclick="ReadFunc()" type="button" class="btn btn-primary">Read</button>
    </div>

    <ul class="list-group" style="width: 50%;">
      <li id="titlelist" class="list-group-item active">Information will be shown here</li>
      <li id="abvread" class="list-group-item">Abv</li>
      <li id="addressread" class="list-group-item">Address</li>
      <li id="categoryread" class="list-group-item">Category</li>
      <li id="cityread" class="list-group-item">City</li>
      <li id="coordinates0read" class="list-group-item">Latitude coordinates</li>
      <li id="coordinates1read" class="list-group-item">Longitude coordinates</li>
      <li id="countryread" class="list-group-item">Country</li>
      <li id="descriptionread" class="list-group-item">Description</li>
      <li id="iburead" class="list-group-item">Ibu</li>
      <li id="nameread" class="list-group-item">Name</li>
      <li id="stateread" class="list-group-item">State</li>
      <li id="websiteread" class="list-group-item">Website</li>
    </ul>
  </section>

  <section id="Update" style="padding-top: 4em; display: flex; flex-direction: column; align-items: center;">
    <h2>Update existing information</h2>
    <input style="width: 35%;"type="text" id="idupdate" class="form-control" placeholder="Id">
    <input style="width: 35%;"type="text" id="abvupdate" class="form-control" placeholder="Abv">
    <input style="width: 35%;"type="text" id="addressupdate" class="form-control" placeholder="Address">
    <input style="width: 35%;"type="text" id="categoryupdate" class="form-control" placeholder="Category">
    <input style="width: 35%;"type="text" id="cityupdate" class="form-control" placeholder="City">
    <input style="width: 35%;"type="text" id="coordinatesupdate0" class="form-control" placeholder="Latitude coordinates">
    <input style="width: 35%;"type="text" id="coordinatesupdate1" class="form-control" placeholder="Longitude coordinates">
    <input style="width: 35%;"type="text" id="countryupdate" class="form-control" placeholder="Country">
    <input style="width: 35%;"type="text" id="descriptionupdate" class="form-control" placeholder="Description">
    <input style="width: 35%;"type="text" id="ibupdate" class="form-control" placeholder="Ibu">
    <input style="width: 35%;"type="text" id="nameupdate" class="form-control" placeholder="Name">
    <input style="width: 35%;"type="text" id="stateupdate" class="form-control" placeholder="State">
    <input style="width: 35%;"type="text" id="websiteupdate" class="form-control" placeholder="Website">
    <button  onclick="UpdateFunc()" type="button" class="btn btn-primary">Update</button>
    <h3 id="updateinfo"></h3>
  </section>

  <section id="Delete" style="padding-top: 4em; display: flex; flex-direction: column; align-items: center;">
    <h2>Delete information from database</h2>
    <div style="display:flex">
      <input style="width: 100%;"type="text" id="deleteinput" class="form-control" placeholder="Insert Id">
      <button  onclick="DeleteFunc()" type="button" class="btn btn-primary">Delete</button>
    </div>
    <b id="deleteapinfo" class="list-group-item"></b>
  </section>

  <script>

  async function ReadFunc() {
    let id = document.getElementById("readinput").value;
    let link = 'http://localhost:2023/'+id
    let res = await fetch(link)
    data = await res.json();
    document.querySelector('#abvread').innerText = data.abv
    document.querySelector('#addressread').innerText = data.address
    document.querySelector('#categoryread').innerText = data.category
    document.querySelector('#cityread').innerText = data.city
    document.querySelector('#coordinates0read').innerText = data.coordinates0
    document.querySelector('#coordinates1read').innerText = data.coordinates1
    document.querySelector('#countryread').innerText = data.country
    document.querySelector('#descriptionread').innerText = data.description
    document.querySelector('#iburead').innerText = data.ibu
    document.querySelector('#nameread').innerText = data.name
    document.querySelector('#stateread').innerText = data.state
    document.querySelector('#websiteread').innerText = data.website

  }

  function CreateFunc(){
    fetch('http://localhost:2023/', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        abv: document.querySelector('#abvcreate').value,
        address: document.querySelector('#addresscreate').value,
        category: document.querySelector('#categorycreate').value,
        city: document.querySelector('#citycreate').value,
        coordinates0: document.querySelector('#coordinatescreate0').value,
        coordinates1: document.querySelector('#coordinatescreate1').value,
        country: document.querySelector('#countrycreate').value,
        description: document.querySelector('#descriptioncreate').value,
        ibu: document.querySelector('#ibucreate').value,
        name: document.querySelector('#namecreate').value,
        state: document.querySelector('#statecreate').value,
        website: document.querySelector('#websitecreate').value,
      })
    }).then(res => document.getElementById("createinfo").innerHTML = 'Information created on database')
    .then(data => console.log(data))
  }

  function UpdateFunc() {
    let text = document.getElementById("idupdate").value;
    let link = 'http://localhost:2023/'+text
    fetch(link,
      {method: 'PATCH',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        abv: document.querySelector('#abvupdate').value,
        address: document.querySelector('#addressupdate').value,
        category: document.querySelector('#categoryupdate').value,
        city: document.querySelector('#cityupdate').value,
        coordinates0: document.querySelector('#coordinatesupdate0').value,
        coordinates1: document.querySelector('#coordinatesupdate1').value,
        country: document.querySelector('#countryupdate').value,
        description: document.querySelector('#descriptionupdate').value,
        ibu: document.querySelector('#ibupdate').value,
        name: document.querySelector('#nameupdate').value,
        state: document.querySelector('#stateupdate').value,
        website: document.querySelector('#websiteupdate').value,
        })
      }).then(res => document.getElementById('updateinfo').innerText = 'Information updated')

    }

    function DeleteFunc() {
    let id = document.getElementById("deleteinput").value;
    let link = 'http://localhost:2023/'+id
      fetch(link, {method: 'DELETE'})
        .then(res => {document.getElementById('deleteapinfo').innerText = `Information from id ${id} deleted`})
    }
  </script>

</body>

</html>
